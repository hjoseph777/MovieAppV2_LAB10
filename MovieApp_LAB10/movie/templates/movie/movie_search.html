{% extends 'movie/base.html' %}

{% block title %}Search Movies - CineVault{% endblock %}

{% block content %}
<div class="search-section">
    <div class="search-form">
        <h2>Search Movies</h2>
        <p style="color: #718096; margin-bottom: 20px;">Find movies by name, genre, or description</p>
        
        <form method="GET" action="{% url 'movie_search' %}">
            <input type="text" 
                   name="q" 
                   value="{{ query }}" 
                   placeholder="Search by movie name, genre, or description..."
                   class="search-input">
            <button type="submit" class="search-btn">Search Movies</button>
        </form>
        
        <div style="margin-top: 15px;">
            <small style="color: #a0aec0;">
                Try: The Matrix, Drama, Action, Crime, Sci-Fi, or any movie description
            </small>
        </div>
    </div>
    
    {% if query %}
        <h3 style="color: #2d3748; margin-bottom: 20px;">
            Search Results for "{{ query }}"
        </h3>
    {% endif %}
    
    {% if movies %}
        <div class="movie-grid">
            {% for movie in movies %}
                <div class="movie-card">
                    <a href="{% url 'movie_detail' id=movie.id %}" class="movie-title" style="text-decoration: none;">
                        {{ movie.name }}
                    </a>
                    <div class="movie-genre">{{ movie.genre }}</div>
                    <p class="movie-description">
                        {% if movie.description %}
                            {{ movie.description|truncatewords:15 }}
                        {% else %}
                            Classic movie in our collection.
                        {% endif %}
                    </p>
                    <div style="margin-top: 15px;">
                        <small style="color: #a0aec0;">
                            Updated: {{ movie.updated|date:"M d, Y" }}
                        </small>
                    </div>
                </div>
            {% endfor %}
        </div>
        
        <div style="text-align: center; margin-top: 25px; padding: 20px; background: #f0f4f8; border-radius: 10px;">
            <p style="color: #4a5568; margin: 0;">
                Found {{ movies|length }} movie{{ movies|length|pluralize }} 
                for "{{ query }}"
            </p>
        </div>
    {% elif query %}
        <div class="empty-state">
            <h3>No Movies Found</h3>
            <p>No movies found for "{{ query }}". Try a different search term!</p>
            <div style="margin-top: 20px;">
                <a href="{% url 'movie_search' %}" class="search-btn" style="text-decoration: none;">
                    Try Another Search
                </a>
            </div>
        </div>
    {% else %}
        <div style="text-align: center; padding: 40px; color: #718096;">
            <h3 style="color: #a0aec0; margin-bottom: 15px;">Ready to Search</h3>
            <p>Enter a movie name, genre, or description above to search our collection.</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">
                Search examples: "The Matrix", "Drama", "space", "crime thriller"
            </p>
        </div>
    {% endif %}
    

</div>
{% endblock %}
